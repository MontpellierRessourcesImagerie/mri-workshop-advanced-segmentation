ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(0.1, 0.1), xmin = c(0.8, 1.8), xmax = c(1.2, 2.2), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(0.5, 0.5), xmin = c(0.8, 1.8), xmax = c(1.2, 2.2), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(1, 1), xmin = c(0.8, 1.8), xmax = c(1.2, 2.2), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(5, 5), xmin = c(0.8, 1.8), xmax = c(1.2, 2.2), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 8), xmin = c(0.8, 1.8), xmax = c(1.2, 2.2), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 8), xmin = c(0.5, 1.8), xmax = c(1.2, 2.2), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 8), xmin = c(0.6, 1.8), xmax = c(1.2, 2.2), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 8), xmin = c(0.7, 1.8), xmax = c(1.2, 2.2), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 8), xmin = c(0.7, 1.8), xmax = c(1.3, 2.2), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 10), xmin = c(0.7, 1.8), xmax = c(1.3, 2.2), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(0.7, 1.8), xmax = c(1.3, 2.2), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(0.7, 1), xmax = c(1.3, 2.2), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(0.7, 1), xmax = c(1.3, 1.3), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(0.7, 1), xmax = c(1.3, 1.3), annotations = c("ns", "*"), tip_length = 0) +
geom_signif(y_position = c(28, 32), xmin = c(0.7, 1), xmax = c(1.3, 1.3), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(0.7, 1), xmax = c(1.3, 1.3), annotations = c("ns", "*"), tip_length = 0) +
geom_signif(y_position = c(80, 84), xmin = c(0.7, 1), xmax = c(1.3, 1.3), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(0.7, 1), xmax = c(1.3, 1.3), annotations = c("ns", "*"), tip_length = 0) +
geom_signif(y_position = c(100, 104), xmin = c(0.7, 1), xmax = c(1.3, 1.3), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(0.7, 1), xmax = c(1.3, 1.3), annotations = c("ns", "*"), tip_length = 0) +
geom_signif(y_position = c(96, 100), xmin = c(0.7, 1), xmax = c(1.3, 1.3), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(0.7, 1), xmax = c(1.3, 1.3), annotations = c("ns", "*"), tip_length = 0) +
geom_signif(y_position = c(96, 100), xmin = c(1.7, 1), xmax = c(2.3, 1.3), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(0.7, 1), xmax = c(1.3, 1.3), annotations = c("ns", "*"), tip_length = 0) +
geom_signif(y_position = c(96, 100), xmin = c(1.7, 2), xmax = c(2.3, 2.3), annotations = c("ns", "*"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
pairwise.prop.test(x = layer2_3_4[,c("positive","negative")])
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(0.7, 1), xmax = c(1.3, 1.3), annotations = c("ns", "*"), tip_length = 0) +
geom_signif(y_position = c(96, 100), xmin = c(1.7, 2), xmax = c(2.3, 2.3), annotations = c("****", "****"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(12, 8), xmin = c(1, 0.7), xmax = c(1.3, 1.3), annotations = c("ns", "*"), tip_length = 0) +
geom_signif(y_position = c(100, 96), xmin = c(2, 1.7), xmax = c(2.3, 2.3), annotations = c("****", "****"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(12, 8), xmin = c(1, 0.7), xmax = c(1.3, 1.3), annotations = c("*", "ns"), tip_length = 0) +
geom_signif(y_position = c(100, 96), xmin = c(2, 1.7), xmax = c(2.3, 2.3), annotations = c("****", "****"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(1, 0.7), xmax = c(1.3, 1.3), annotations = c("*", "ns"), tip_length = 0) +
geom_signif(y_position = c(100, 96), xmin = c(2, 1.7), xmax = c(2.3, 2.3), annotations = c("****", "****"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(1, 0.7), xmax = c(1.3, 1.3), annotations = c("*", "ns"), tip_length = 0) +
geom_signif(y_position = c(96, 100), xmin = c(2, 1.7), xmax = c(2.3, 2.3), annotations = c("****", "****"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(1, 0.7), xmax = c(1.3, 1.3), annotations = c("*", "ns"), tip_length = 0) +
geom_signif(y_position = c(96, 100), xmin = c(2, 1.7), xmax = c(2.3, 2.3), annotations = c("****", "****"), tip_length = 0) +
geom_signif(y_position = c(10, 14), xmin = c(3, 2.7), xmax = c(3.3, 3.3), annotations = c("****", "****"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
pairwise.prop.test(x = layer5[,c("positive","negative")])
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(1, 0.7), xmax = c(1.3, 1.3), annotations = c("*", "ns"), tip_length = 0) +
geom_signif(y_position = c(96, 100), xmin = c(2, 1.7), xmax = c(2.3, 2.3), annotations = c("****", "****"), tip_length = 0) +
geom_signif(y_position = c(10, 14), xmin = c(3, 2.7), xmax = c(3.3, 3.3), annotations = c("**", "****"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(1, 0.7), xmax = c(1.3, 1.3), annotations = c("*", "ns"), tip_length = 0) +
geom_signif(y_position = c(96, 100), xmin = c(2, 1.7), xmax = c(2.3, 2.3), annotations = c("****", "****"), tip_length = 0) +
geom_signif(y_position = c(10, 14), xmin = c(3, 2.7), xmax = c(3.3, 3.3), annotations = c("**", "****"), tip_length = 0) +
geom_signif(y_position = c(20, 24), xmin = c(4, 3.7), xmax = c(4.3, 4.3), annotations = c("**", "****"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
pairwise.prop.test(x = layer6[,c("positive","negative")])
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(1, 0.7), xmax = c(1.3, 1.3), annotations = c("*", "ns"), tip_length = 0) +
geom_signif(y_position = c(96, 100), xmin = c(2, 1.7), xmax = c(2.3, 2.3), annotations = c("****", "****"), tip_length = 0) +
geom_signif(y_position = c(10, 14), xmin = c(3, 2.7), xmax = c(3.3, 3.3), annotations = c("**", "****"), tip_length = 0) +
geom_signif(y_position = c(20, 24), xmin = c(4, 3.7), xmax = c(4.3, 4.3), annotations = c("****", "****"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(1, 0.7), xmax = c(1.3, 1.3), annotations = c("*", "ns"), tip_length = 0) +
geom_signif(y_position = c(96, 100), xmin = c(2, 1.7), xmax = c(2.3, 2.3), annotations = c("****", "****"), tip_length = 0) +
geom_signif(y_position = c(10, 14), xmin = c(3, 2.7), xmax = c(3.3, 3.3), annotations = c("**", "****"), tip_length = 0) +
geom_signif(y_position = c(20, 24), xmin = c(4, 3.7), xmax = c(4.3, 4.3), annotations = c("****", "****"), tip_length = 0) +
geom_signif(y_position = c(30, 34), xmin = c(5, 4.7), xmax = c(5.3, 5.3), annotations = c("****", "****"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(1, 0.7), xmax = c(1.3, 1.3), annotations = c("*", "ns"), tip_length = 0) +
geom_signif(y_position = c(96, 100), xmin = c(2, 1.7), xmax = c(2.3, 2.3), annotations = c("****", "****"), tip_length = 0) +
geom_signif(y_position = c(10, 14), xmin = c(3, 2.7), xmax = c(3.3, 3.3), annotations = c("**", "****"), tip_length = 0) +
geom_signif(y_position = c(20, 24), xmin = c(4, 3.7), xmax = c(4.3, 4.3), annotations = c("****", "****"), tip_length = 0) +
geom_signif(y_position = c(34, 38), xmin = c(5, 4.7), xmax = c(5.3, 5.3), annotations = c("****", "****"), tip_length = 0) +
ylab("Pourcentage")+
theme_classic()
pairwise.prop.test(x = layer7[,c("positive","negative")])
ggplot(df, aes(x = layer, y = mean*100, fill = conditions)) +
geom_bar(position=position_dodge(), stat="identity") +
geom_errorbar(aes(ymin=lower*100, ymax=upper*100),width=.2,
position=position_dodge(.9))+
scale_y_continuous(limits=c(0,100))+
geom_signif(y_position = c(8, 12), xmin = c(1, 0.7), xmax = c(1.3, 1.3), annotations = c("*", "ns"), tip_length = 0) +
geom_signif(y_position = c(96, 100), xmin = c(2, 1.7), xmax = c(2.3, 2.3), annotations = c("****", "****"), tip_length = 0) +
geom_signif(y_position = c(10, 14), xmin = c(3, 2.7), xmax = c(3.3, 3.3), annotations = c("**", "****"), tip_length = 0) +
geom_signif(y_position = c(20, 24), xmin = c(4, 3.7), xmax = c(4.3, 4.3), annotations = c("****", "****"), tip_length = 0) +
geom_signif(y_position = c(34, 38), xmin = c(5, 4.7), xmax = c(5.3, 5.3), annotations = c("****", "****"), tip_length = 0) +
ylab("Percentage")+
theme_classic()
library(binom)
library(ggplot2)
library(ggsignif)
layer1 <- matrix(c(6, 1224, 2, 702, 5, 209), ncol=2, byrow = TRUE)
colnames(layer1) <- c("positive", "negative")
rownames(layer1) <- c("shLuc" ,"sh1", "sh2")
prop.table(layer1, 1)
# get positives observations
nb.pos <- as.vector(layer1[,1])
# get negatives observations
nb.neg <- as.vector(layer1[,2])
#get total observations
nbT <- rowSums(layer1)
# calculate IC for positives
df.pos <- binom.confint(nb.pos, nbT, conf.level = 0.95, methods = "prop.test")
rownames(df.pos) <- paste("pos", rownames(layer1), sep="__")
#idem for negatives
#df.neg <- binom.confint(nb.neg, nbT, conf.level = 0.95, methods = "prop.test")
#rownames(df.neg) <- paste("neg", rownames(layer1), sep="__")
#df <- rbind(df.pos, df.neg)
df.pos$layer <- "layer 1"
df.pos$conditions <- substr(rownames(df.pos),6,100)
layer2_3_4 <- matrix(c(1157, 73, 533, 171, 118, 96), ncol=2, byrow = TRUE)
colnames(layer2_3_4) <- c("positive", "negative")
rownames(layer2_3_4) <- c("shLuc" ,"sh1", "sh2")
prop.table(layer2_3_4, 1)
# get positives observations
nb.pos <- as.vector(layer2_3_4[,1])
# get negatives observations
nb.neg <- as.vector(layer2_3_4[,2])
#get total observations
nbT <- rowSums(layer2_3_4)
# calculate IC for positives
df.pos2 <- binom.confint(nb.pos, nbT, conf.level = 0.95, methods = "prop.test")
rownames(df.pos2) <- paste("pos", rownames(layer2_3_4), sep="__")
df.pos2$layer <- "layer 2-3-4"
df.pos2$conditions <- substr(rownames(df.pos2),6,100)
layer5 <- matrix(c(15, 1215, 72, 632, 9, 205), ncol=2, byrow = TRUE)
colnames(layer5) <- c("positive", "negative")
rownames(layer5) <- c("shLuc" ,"sh1", "sh2")
prop.table(layer5, 1)
# get positives observations
nb.pos <- as.vector(layer5[,1])
# get negatives observations
nb.neg <- as.vector(layer5[,2])
#get total observations
nbT <- rowSums(layer5)
# calculate IC for positives
df.pos3 <- binom.confint(nb.pos, nbT, conf.level = 0.95, methods = "prop.test")
rownames(df.pos3) <- paste("pos", rownames(layer5), sep="__")
df.pos3$layer <- "layer 5"
df.pos3$conditions <- substr(rownames(df.pos3),6,100)
layer6 <- matrix(c(12, 1218, 38, 666, 27, 187), ncol=2, byrow = TRUE)
colnames(layer6) <- c("positive", "negative")
rownames(layer6) <- c("shLuc" ,"sh1", "sh2")
prop.table(layer6, 1)
# get positives observations
nb.pos <- as.vector(layer6[,1])
# get negatives observations
nb.neg <- as.vector(layer6[,2])
#get total observations
nbT <- rowSums(layer6)
# calculate IC for positives
df.pos4 <- binom.confint(nb.pos, nbT, conf.level = 0.95, methods = "prop.test")
rownames(df.pos4) <- paste("pos", rownames(layer6), sep="__")
df.pos4$layer <- "layer 6"
df.pos4$conditions <- substr(rownames(df.pos4),6,100)
layer7 <- matrix(c(40, 1190, 59, 645, 55, 159), ncol=2, byrow = TRUE)
colnames(layer7) <- c("positive", "negative")
rownames(layer7) <- c("shLuc" ,"sh1", "sh2")
prop.table(layer7, 1)
# get positives observations
nb.pos <- as.vector(layer7[,1])
# get negatives observations
nb.neg <- as.vector(layer7[,2])
#get total observations
nbT <- rowSums(layer7)
# calculate IC for positives
df.pos5 <- binom.confint(nb.pos, nbT, conf.level = 0.95, methods = "prop.test")
rownames(df.pos5) <- paste("pos", rownames(layer7), sep="__")
df.pos5$layer <- "layer 7"
df.pos5$conditions <- substr(rownames(df.pos5),6,100)
df <- rbind(df.pos, df.pos2, df.pos3, df.pos4, df.pos5)
df$conditions <- as.factor(df$conditions)
df$conditions <- factor(df$conditions, levels = c("shLuc", "sh1", "sh2"))
View(df)
pairwise.prop.test(x = layer1[,c("positive","negative")])
pairwise.prop.test(x = layer2_3_4[,c("positive","negative")])
pairwise.prop.test(x = layer5[,c("positive","negative")])
pairwise.prop.test(x = layer6[,c("positive","negative")])
pairwise.prop.test(x = layer7[,c("positive","negative")])
layer1 <- matrix(c(5, 573, 0, 710, 8, 635), ncol=2, byrow = TRUE)
colnames(layer1) <- c("positive", "negative")
rownames(layer1) <- c("shLuc" ,"sh1", "sh2")
prop.table(layer1, 1)
# get positives observations
nb.pos <- as.vector(layer1[,1])
# get negatives observations
nb.neg <- as.vector(layer1[,2])
#get total observations
nbT <- rowSums(layer1)
# calculate IC for positives
df.pos <- binom.confint(nb.pos, nbT, conf.level = 0.95, methods = "prop.test")
rownames(df.pos) <- paste("pos", rownames(layer1), sep="__")
df.pos$layer <- "layer 1"
df.pos$conditions <- substr(rownames(df.pos),6,100)
layer2_3_4 <- matrix(c(517, 61, 520, 190, 520, 123), ncol=2, byrow = TRUE)
colnames(layer2_3_4) <- c("positive", "negative")
rownames(layer2_3_4) <- c("shLuc" ,"sh1", "sh2")
prop.table(layer2_3_4, 1)
# get positives observations
nb.pos <- as.vector(layer2_3_4[,1])
# get negatives observations
nb.neg <- as.vector(layer2_3_4[,2])
#get total observations
nbT <- rowSums(layer2_3_4)
# calculate IC for positives
df.pos2 <- binom.confint(nb.pos, nbT, conf.level = 0.95, methods = "prop.test")
rownames(df.pos2) <- paste("pos", rownames(layer2_3_4), sep="__")
df.pos2$layer <- "layer 2-3-4"
df.pos2$conditions <- substr(rownames(df.pos2),6,100)
layer5 <- matrix(c(6, 572, 77, 633, 32, 611), ncol=2, byrow = TRUE)
colnames(layer5) <- c("positive", "negative")
rownames(layer5) <- c("shLuc" ,"sh1", "sh2")
prop.table(layer5, 1)
# get positives observations
nb.pos <- as.vector(layer5[,1])
# get negatives observations
nb.neg <- as.vector(layer5[,2])
#get total observations
nbT <- rowSums(layer5)
# calculate IC for positives
df.pos3 <- binom.confint(nb.pos, nbT, conf.level = 0.95, methods = "prop.test")
rownames(df.pos3) <- paste("pos", rownames(layer5), sep="__")
df.pos3$layer <- "layer 5"
df.pos3$conditions <- substr(rownames(df.pos3),6,100)
layer6 <- matrix(c(1, 577, 29, 681, 19, 624), ncol=2, byrow = TRUE)
colnames(layer6) <- c("positive", "negative")
rownames(layer6) <- c("shLuc" ,"sh1", "sh2")
prop.table(layer6, 1)
# get positives observations
nb.pos <- as.vector(layer6[,1])
# get negatives observations
nb.neg <- as.vector(layer6[,2])
#get total observations
nbT <- rowSums(layer6)
# calculate IC for positives
df.pos4 <- binom.confint(nb.pos, nbT, conf.level = 0.95, methods = "prop.test")
rownames(df.pos4) <- paste("pos", rownames(layer6), sep="__")
df.pos4$layer <- "layer 6"
df.pos4$conditions <- substr(rownames(df.pos4),6,100)
layer7 <- matrix(c(49, 529, 84, 626, 64, 579), ncol=2, byrow = TRUE)
colnames(layer7) <- c("positive", "negative")
rownames(layer7) <- c("shLuc" ,"sh1", "sh2")
prop.table(layer7, 1)
# get positives observations
nb.pos <- as.vector(layer7[,1])
# get negatives observations
nb.neg <- as.vector(layer7[,2])
#get total observations
nbT <- rowSums(layer7)
# calculate IC for positives
df.pos5 <- binom.confint(nb.pos, nbT, conf.level = 0.95, methods = "prop.test")
rownames(df.pos5) <- paste("pos", rownames(layer7), sep="__")
df.pos5$layer <- "layer 7"
df.pos5$conditions <- substr(rownames(df.pos5),6,100)
df <- rbind(df.pos, df.pos2, df.pos3, df.pos4, df.pos5)
df$conditions <- as.factor(df$conditions)
df$conditions <- factor(df$conditions, levels = c("shLuc", "sh1", "sh2"))
pairwise.prop.test(x = layer1[,c("positive","negative")])
pairwise.prop.test(x = layer2_3_4[,c("positive","negative")])
pairwise.prop.test(x = layer5[,c("positive","negative")])
pairwise.prop.test(x = layer6[,c("positive","negative")])
pairwise.prop.test(x = layer7[,c("positive","negative")])
library(devtools)
install.packages("devtools")
library(devtools)
install_github('slidify', 'ramnathv')
install_github('slidify', 'ramnathv')
install_github('slidify', 'ramnathv')
install_github("slidify", 'ramnathv')
install_github("slidify", "ramnathv")
install_github('ramnathv/slidifyLibraries')
install_github('ramnathv/slidify')
library(slidify)
author("./Documents/ML_FormationBC/mydeck")
library(ggplot2)
library(ggpubr)
df <- data.frame(Weight = c(55, 50, 52, 60, 68, 72, 74, 86, 62, 78),
Size = c(145, 155, 160, 168, 158, 165, 174, 170, 180, 185),
Sex = c("Women", "Women", "Women", "Women", "Women",
"Men", "Men", "Men", "Men", "Men"))
ggscatter(df, x = "wt", y = "mpg",
color = "cyl", palette = "jco",
shape = "cyl",
ellipse = TRUE, ellipse.type = "convex")
ggscatter(df, x = "Size", y = "Sex",
color = "Sex", palette = "jco", ellipse = FALSE)
ggscatter(df, x = "Size", y = "Weight",
color = "Sex", palette = "jco", ellipse = FALSE)
ggscatter(df, x = "Size", y = "Weight",
color = "Sex", palette = "jco", ellipse = FALSE) +
xlab("Size (cm)") + ylab("Weight (kg)")
df2 <- data.frame(Weight = c(55, 50, 52, 60, 68, 72, 74, 86, 62, 78, 75),
Size = c(145, 155, 160, 168, 158, 165, 174, 170, 180, 185, 165),
Sex = c("Women", "Women", "Women", "Women", "Women",
"Men", "Men", "Men", "Men", "Men", "Unlabel"))
ggscatter(df, x = "Size", y = "Weight",
color = "Sex", palette = "jco", ellipse = FALSE) +
xlab("Size (cm)") + ylab("Weight (kg)")
ggscatter(df2, x = "Size", y = "Weight",
color = "Sex", palette = "jco", ellipse = FALSE) +
xlab("Size (cm)") + ylab("Weight (kg)")
df2 <- data.frame(Weight = c(55, 50, 52, 60, 68, 72, 74, 86, 62, 78, 75),
Size = c(145, 155, 160, 168, 158, 165, 174, 170, 180, 185, 162),
Sex = c("Women", "Women", "Women", "Women", "Women",
"Men", "Men", "Men", "Men", "Men", ""))
ggscatter(df2, x = "Size", y = "Weight",
color = "Sex", palette = "jco", ellipse = FALSE) +
xlab("Size (cm)") + ylab("Weight (kg)")
df2 <- data.frame(Weight = c(55, 50, 52, 60, 68, 72, 74, 86, 62, 78, 75),
Size = c(145, 155, 160, 168, 158, 165, 174, 170, 180, 185, 161),
Sex = c("Women", "Women", "Women", "Women", "Women",
"Men", "Men", "Men", "Men", "Men", "Z"))
ggscatter(df2, x = "Size", y = "Weight",
color = "Sex", palette = "jco", ellipse = FALSE) +
xlab("Size (cm)") + ylab("Weight (kg)")
